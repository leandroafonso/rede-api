# rede-api

Veja exemplo de uso no arquivo rede.test.php

<b>Exemplo de retorno:</b>

<b>Approve:</b> 
array(11) { ["reference"]=> string(4) "9998" ["tid"]=> string(20) "10117090716584000003" ["nsu"]=> string(7) "2120139" ["authorizationCode"]=> string(6) "110980" ["dateTime"]=> string(25) "2017-09-07T17:06:37-03:00" ["amount"]=> int(500900) ["cardBin"]=> string(6) "544828" ["last4"]=> string(4) "0007" ["returnCode"]=> string(2) "00" ["returnMessage"]=> string(8) "Success." ["links"]=> array(3) { [0]=> array(3) { ["method"]=> string(3) "GET" ["rel"]=> string(11) "transaction" ["href"]=> string(72) "http://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003" } [1]=> array(3) { ["method"]=> string(4) "POST" ["rel"]=> string(6) "refund" ["href"]=> string(80) "http://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003/refunds" } [2]=> array(3) { ["method"]=> string(3) "PUT" ["rel"]=> string(7) "capture" ["href"]=> string(72) "http://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003" } } } 

<b>capture: </b>

transactions/10117090716584000003
array(8) { ["reference"]=> string(4) "9998" ["tid"]=> string(20) "10117090716584000003" ["nsu"]=> string(7) "2000139" ["authorizationCode"]=> string(6) "110980" ["dateTime"]=> string(25) "2017-09-07T17:06:39-03:00" ["returnCode"]=> string(2) "00" ["returnMessage"]=> string(8) "Success." ["links"]=> array(2) { [0]=> array(3) { ["method"]=> string(3) "GET" ["rel"]=> string(11) "transaction" ["href"]=> string(72) "http://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003" } [1]=> array(3) { ["method"]=> string(4) "POST" ["rel"]=> string(6) "refund" ["href"]=> string(80) "http://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003/refunds" } } } 

<b>getTransactionByTID: </b>

transactions/10117090716584000003
array(4) { ["requestDateTime"]=> string(25) "2017-09-07T17:06:40-03:00" ["authorization"]=> array(18) { ["dateTime"]=> string(25) "2017-09-07T17:06:37-03:00" ["returnCode"]=> string(2) "00" ["returnMessage"]=> string(8) "Success." ["affiliation"]=> int(50079557) ["status"]=> string(8) "Approved" ["reference"]=> string(4) "9998" ["tid"]=> string(20) "10117090716584000003" ["nsu"]=> string(7) "2120139" ["authorizationCode"]=> string(6) "110980" ["kind"]=> string(6) "Credit" ["amount"]=> int(500900) ["installments"]=> int(0) ["cardHolderName"]=> string(9) "John Snow" ["cardBin"]=> string(6) "544828" ["last4"]=> string(4) "0007" ["softDescriptor"]=> string(17) "Teste-Plano Detox" ["origin"]=> int(1) ["subscription"]=> bool(false) } ["capture"]=> array(3) { ["dateTime"]=> string(25) "2017-09-07T17:06:39-03:00" ["nsu"]=> string(7) "2000139" ["amount"]=> int(500900) } ["links"]=> array(2) { [0]=> array(3) { ["method"]=> string(3) "GET" ["rel"]=> string(7) "refunds" ["href"]=> string(81) "https://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003/refunds" } [1]=> array(3) { ["method"]=> string(4) "POST" ["rel"]=> string(6) "refund" ["href"]=> string(81) "https://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003/refunds" } } } 

<b>getTransactionBySale: </b>

transactions?reference=9998
array(4) { ["requestDateTime"]=> string(25) "2017-09-07T17:06:41-03:00" ["authorization"]=> array(18) { ["dateTime"]=> string(25) "2017-09-07T17:06:37-03:00" ["returnCode"]=> string(2) "00" ["returnMessage"]=> string(8) "Success." ["affiliation"]=> int(50079557) ["status"]=> string(8) "Approved" ["reference"]=> string(4) "9998" ["tid"]=> string(20) "10117090716584000003" ["nsu"]=> string(7) "2120139" ["authorizationCode"]=> string(6) "110980" ["kind"]=> string(6) "Credit" ["amount"]=> int(500900) ["installments"]=> int(0) ["cardHolderName"]=> string(9) "John Snow" ["cardBin"]=> string(6) "544828" ["last4"]=> string(4) "0007" ["softDescriptor"]=> string(17) "Teste-Plano Detox" ["origin"]=> int(1) ["subscription"]=> bool(false) } ["capture"]=> array(3) { ["dateTime"]=> string(25) "2017-09-07T17:06:39-03:00" ["nsu"]=> string(7) "2000139" ["amount"]=> int(500900) } ["links"]=> array(2) { [0]=> array(3) { ["method"]=> string(3) "GET" ["rel"]=> string(7) "refunds" ["href"]=> string(81) "https://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003/refunds" } [1]=> array(3) { ["method"]=> string(4) "POST" ["rel"]=> string(6) "refund" ["href"]=> string(81) "https://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003/refunds" } } } 

<b>Refunds: </b>
array(7) { ["refundId"]=> string(36) "31466bad-bb67-4fa4-b77b-be15ad490a8c" ["tid"]=> string(20) "10117090716584000003" ["nsu"]=> string(7) "2020177" ["refundDateTime"]=> string(25) "2017-09-07T17:06:42-03:00" ["returnCode"]=> string(3) "359" ["returnMessage"]=> string(18) "Refund successful." ["links"]=> array(3) { [0]=> array(3) { ["method"]=> string(3) "GET" ["rel"]=> string(6) "refund" ["href"]=> string(117) "http://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003/refunds/31466bad-bb67-4fa4-b77b-be15ad490a8c" } [1]=> array(3) { ["method"]=> string(3) "GET" ["rel"]=> string(11) "transaction" ["href"]=> string(72) "http://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003" } [2]=> array(3) { ["method"]=> string(3) "GET" ["rel"]=> string(7) "refunds" ["href"]=> string(80) "http://api-hom.userede.com.br/erede/v1/transactions/10117090716584000003/refunds" } } }